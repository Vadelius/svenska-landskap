<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title>Svenska Landskap</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
	<style type="text/css">
		body {
			margin: 0;
			padding: 0;
		}

		#map {
			position: absolute;
			width: 100%;
			height: 100%;
		}
	</style>
</head>
<body>
	<div id="map"></div>

	<script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
	<script src="https://unpkg.com/leaflet-hash@0.2.1"></script>
	<script type="text/javascript">
		var map = L.map('map');
		map.attributionControl.setPrefix('<a href="https://github.com/perliedman/svenska-landskap">Svenska Landskap</a>')

		L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibGllZG1hbiIsImEiOiJjajBxemNqNnQwMDB6MzJxcTZscWllYzhiIn0.6GKjUiKKFLTWbXxyl3UPAg', {
			tileSize: 512,
			zoomOffset: -1,
			attribution: '© <a href="https://www.mapbox.com/about/maps/">Mapbox</a> © <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
		}).addTo(map);

		map.setView([62, 15], 5);
		new L.Hash(map);

		var req = new XMLHttpRequest();
		req.addEventListener('load', function() {
			var geojson = JSON.parse(this.responseText);
			L.geoJson(geojson, {
				fillOpacity: 0.01,
				color: 'red',
				opacity: 0.7,
				weight: 2,
				dashArray: '2, 5',
				onEachFeature(f, layer) {
					layer.bindTooltip(f.properties.landskap, {sticky:true});
				},
				attribution: '&copy; <a href="https://www.lantmateriet.se/sv/Kartor-och-geografisk-information/Kartor/oppna-data/anvandarvillkor/">Lantmäteriet, CC-BY 4.0</a>'
			}).addTo(map);
		});
		req.open('GET', 'svenska-landskap.geo.json');
		req.send();
	</script>
</body>
</html>
